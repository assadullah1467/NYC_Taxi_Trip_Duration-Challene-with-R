# NYC_Taxi_Trip_Duration_Challenge
Assadullah_Samir  
5 November 2017  


# Introduction
This is a comprehensive Exploratory Data Analysis for the New York City Taxi Trip Duration competition with tidy R and ggplot2.
The goal of this playground challenge is to predict the duration of taxi rides in NYC based on features like trip coordinates or pickup date and time. The data comes in the shape of 1.5 million training observations (../input/train.csv) and 630k test observation (../input/test.csv). Each row contains one taxi trip.
In this notebook, we will first study and visualise the original data, engineer new features, and examine potential outliers. Then we add two external data sets on the NYC weather and on the theoretically fastest routes. We visualise and analyse the new features within these data sets and their impact on the target trip_duration values. Finally, we will make a brief excursion into viewing this challenge as a classification problem and finish this notebook with a simple XGBoost model that provides a basic prediction (final part under construction).


```r
library('ggplot2') # visualisation
library('scales') # visualisation
library('grid') # visualisation
library('RColorBrewer') # visualisation
library('corrplot') # visualisation
library('alluvial') # visualisation
library('dplyr') # data manipulation
library('readr') # input/output
library('data.table') # data manipulation
library('tibble') # data wrangling
library('tidyr') # data wrangling
library('stringr') # string manipulation
library('forcats') # factor manipulation
library('lubridate') # date and time
library('geosphere') # geospatial locations
library('leaflet') # maps
library('leaflet.extras') # maps
library('maps') # maps
library('xgboost') # modelling
library('caret') # modelling
library('plotly') #visualization
library ('gridExtra') # arrange plots
```
**Load data**


```r
train <- as.tibble(fread('C:/Users/assad/NYC_Kaggle/train.csv'))
```

File structure and content


```r
summary(train)
```

```
##       id              vendor_id     pickup_datetime    dropoff_datetime  
##  Length:1458644     Min.   :1.000   Length:1458644     Length:1458644    
##  Class :character   1st Qu.:1.000   Class :character   Class :character  
##  Mode  :character   Median :2.000   Mode  :character   Mode  :character  
##                     Mean   :1.535                                        
##                     3rd Qu.:2.000                                        
##                     Max.   :2.000                                        
##  passenger_count pickup_longitude  pickup_latitude dropoff_longitude
##  Min.   :0.000   Min.   :-121.93   Min.   :34.36   Min.   :-121.93  
##  1st Qu.:1.000   1st Qu.: -73.99   1st Qu.:40.74   1st Qu.: -73.99  
##  Median :1.000   Median : -73.98   Median :40.75   Median : -73.98  
##  Mean   :1.665   Mean   : -73.97   Mean   :40.75   Mean   : -73.97  
##  3rd Qu.:2.000   3rd Qu.: -73.97   3rd Qu.:40.77   3rd Qu.: -73.96  
##  Max.   :9.000   Max.   : -61.34   Max.   :51.88   Max.   : -61.34  
##  dropoff_latitude store_and_fwd_flag trip_duration    
##  Min.   :32.18    Length:1458644     Min.   :      1  
##  1st Qu.:40.74    Class :character   1st Qu.:    397  
##  Median :40.75    Mode  :character   Median :    662  
##  Mean   :40.75                       Mean   :    959  
##  3rd Qu.:40.77                       3rd Qu.:   1075  
##  Max.   :43.92                       Max.   :3526282
```

**Reformating Data**


```r
train <- train %>%
  mutate(pickup_datetime = ymd_hms(pickup_datetime),
         dropoff_datetime = ymd_hms(dropoff_datetime),
         vendor_id = factor(vendor_id),
         passenger_count = factor(passenger_count))
## Create hpick and Month col
train<-train %>%
  mutate(hpick = hour(pickup_datetime),
         Month = factor(month(pickup_datetime, label = TRUE)))
```

# Individual feature visualisations

Visualisations of feature distributions and their relations are key to understanding a data set, and they often open up new lines of inquiry. I always recommend to examine the data from as many different perspectives as possible to notice even subtle trends and correlations.

## Log distribution of the trip_duartions


```r
ggplotly(ggplot(train,aes(trip_duration,fill=vendor_id))+geom_histogram(bins = 100)+scale_x_log10())
```

<!--html_preserve--><div id="23fc75797493" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="23fc75797493">{"x":{"data":[{"orientation":"v","width":[0.0661345155583782,0.0661345155583782,0.0661345155583782,0.0661345155583782,0.0661345155583781,0.0661345155583782,0.0661345155583781,0.0661345155583781,0.0661345155583783,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781],"base":[8,0,0,0,0,41,0,117,0,108,0,100,54,84,162,77,124,124,115,147,150,203,194,284,274,379,533,804,1188,1785,2834,4309,6350,9475,13533,18365,24750,32132,38226,46463,52781,58908,62516,64717,62374,59683,52420,44289,36187,26892,19193,13151,8969,5782,3466,1962,886,361,116,45,12,17,12,6,1,11,10,15,15,20,12,10,22,21,322,1606,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[0,0.0661345155583782,0.132269031116756,0.198403546675135,0.264538062233513,0.330672577791891,0.396807093350269,0.462941608908647,0.529076124467026,0.595210640025404,0.661345155583782,0.72747967114216,0.793614186700538,0.859748702258917,0.925883217817295,0.992017733375673,1.05815224893405,1.12428676449243,1.19042128005081,1.25655579560919,1.32269031116756,1.38882482672594,1.45495934228432,1.5210938578427,1.58722837340108,1.65336288895945,1.71949740451783,1.78563192007621,1.85176643563459,1.91790095119297,1.98403546675135,2.05016998230972,2.1163044978681,2.18243901342648,2.24857352898486,2.31470804454324,2.38084256010162,2.44697707565999,2.51311159121837,2.57924610677675,2.64538062233513,2.71151513789351,2.77764965345188,2.84378416901026,2.90991868456864,2.97605320012702,3.0421877156854,3.10832223124378,3.17445674680215,3.24059126236053,3.30672577791891,3.37286029347729,3.43899480903567,3.50512932459404,3.57126384015242,3.6373983557108,3.70353287126918,3.76966738682756,3.83580190238594,3.90193641794431,3.96807093350269,4.03420544906107,4.10033996461945,4.16647448017783,4.2326089957362,4.29874351129458,4.36487802685296,4.43101254241134,4.49714705796972,4.5632815735281,4.62941608908647,4.69555060464485,4.76168512020323,4.82781963576161,4.89395415131999,4.96008866687836,5.02622318243674,5.09235769799512,5.1584922135535,5.22462672911188,5.29076124467026,5.35689576022863,5.42303027578701,5.48916479134539,5.55529930690377,5.62143382246215,5.68756833802053,5.7537028535789,5.81983736913728,5.88597188469566,5.95210640025404,6.01824091581242,6.08437543137079,6.15050994692917,6.21664446248755,6.28277897804593,6.34891349360431,6.41504800916269,6.48118252472106,6.54731704027944],"y":[25,0,0,0,0,136,0,201,0,209,0,184,138,134,283,105,192,214,159,280,224,315,283,363,375,480,546,757,1089,1703,2547,3727,5555,8077,11973,15956,21955,27776,33339,40644,46409,51837,54341,55970,54581,51735,45935,38625,31077,23139,16367,10896,7409,4636,2779,1527,726,249,86,35,16,7,3,4,1,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,0,1],"text":["count:    25<br />trip_duration: 0.00000000<br />vendor_id: 1","count:     0<br />trip_duration: 0.06613452<br />vendor_id: 1","count:     0<br />trip_duration: 0.13226903<br />vendor_id: 1","count:     0<br />trip_duration: 0.19840355<br />vendor_id: 1","count:     0<br />trip_duration: 0.26453806<br />vendor_id: 1","count:   136<br />trip_duration: 0.33067258<br />vendor_id: 1","count:     0<br />trip_duration: 0.39680709<br />vendor_id: 1","count:   201<br />trip_duration: 0.46294161<br />vendor_id: 1","count:     0<br />trip_duration: 0.52907612<br />vendor_id: 1","count:   209<br />trip_duration: 0.59521064<br />vendor_id: 1","count:     0<br />trip_duration: 0.66134516<br />vendor_id: 1","count:   184<br />trip_duration: 0.72747967<br />vendor_id: 1","count:   138<br />trip_duration: 0.79361419<br />vendor_id: 1","count:   134<br />trip_duration: 0.85974870<br />vendor_id: 1","count:   283<br />trip_duration: 0.92588322<br />vendor_id: 1","count:   105<br />trip_duration: 0.99201773<br />vendor_id: 1","count:   192<br />trip_duration: 1.05815225<br />vendor_id: 1","count:   214<br />trip_duration: 1.12428676<br />vendor_id: 1","count:   159<br />trip_duration: 1.19042128<br />vendor_id: 1","count:   280<br />trip_duration: 1.25655580<br />vendor_id: 1","count:   224<br />trip_duration: 1.32269031<br />vendor_id: 1","count:   315<br />trip_duration: 1.38882483<br />vendor_id: 1","count:   283<br />trip_duration: 1.45495934<br />vendor_id: 1","count:   363<br />trip_duration: 1.52109386<br />vendor_id: 1","count:   375<br />trip_duration: 1.58722837<br />vendor_id: 1","count:   480<br />trip_duration: 1.65336289<br />vendor_id: 1","count:   546<br />trip_duration: 1.71949740<br />vendor_id: 1","count:   757<br />trip_duration: 1.78563192<br />vendor_id: 1","count:  1089<br />trip_duration: 1.85176644<br />vendor_id: 1","count:  1703<br />trip_duration: 1.91790095<br />vendor_id: 1","count:  2547<br />trip_duration: 1.98403547<br />vendor_id: 1","count:  3727<br />trip_duration: 2.05016998<br />vendor_id: 1","count:  5555<br />trip_duration: 2.11630450<br />vendor_id: 1","count:  8077<br />trip_duration: 2.18243901<br />vendor_id: 1","count: 11973<br />trip_duration: 2.24857353<br />vendor_id: 1","count: 15956<br />trip_duration: 2.31470804<br />vendor_id: 1","count: 21955<br />trip_duration: 2.38084256<br />vendor_id: 1","count: 27776<br />trip_duration: 2.44697708<br />vendor_id: 1","count: 33339<br />trip_duration: 2.51311159<br />vendor_id: 1","count: 40644<br />trip_duration: 2.57924611<br />vendor_id: 1","count: 46409<br />trip_duration: 2.64538062<br />vendor_id: 1","count: 51837<br />trip_duration: 2.71151514<br />vendor_id: 1","count: 54341<br />trip_duration: 2.77764965<br />vendor_id: 1","count: 55970<br />trip_duration: 2.84378417<br />vendor_id: 1","count: 54581<br />trip_duration: 2.90991868<br />vendor_id: 1","count: 51735<br />trip_duration: 2.97605320<br />vendor_id: 1","count: 45935<br />trip_duration: 3.04218772<br />vendor_id: 1","count: 38625<br />trip_duration: 3.10832223<br />vendor_id: 1","count: 31077<br />trip_duration: 3.17445675<br />vendor_id: 1","count: 23139<br />trip_duration: 3.24059126<br />vendor_id: 1","count: 16367<br />trip_duration: 3.30672578<br />vendor_id: 1","count: 10896<br />trip_duration: 3.37286029<br />vendor_id: 1","count:  7409<br />trip_duration: 3.43899481<br />vendor_id: 1","count:  4636<br />trip_duration: 3.50512932<br />vendor_id: 1","count:  2779<br />trip_duration: 3.57126384<br />vendor_id: 1","count:  1527<br />trip_duration: 3.63739836<br />vendor_id: 1","count:   726<br />trip_duration: 3.70353287<br />vendor_id: 1","count:   249<br />trip_duration: 3.76966739<br />vendor_id: 1","count:    86<br />trip_duration: 3.83580190<br />vendor_id: 1","count:    35<br />trip_duration: 3.90193642<br />vendor_id: 1","count:    16<br />trip_duration: 3.96807093<br />vendor_id: 1","count:     7<br />trip_duration: 4.03420545<br />vendor_id: 1","count:     3<br />trip_duration: 4.10033996<br />vendor_id: 1","count:     4<br />trip_duration: 4.16647448<br />vendor_id: 1","count:     1<br />trip_duration: 4.23260900<br />vendor_id: 1","count:     0<br />trip_duration: 4.29874351<br />vendor_id: 1","count:     1<br />trip_duration: 4.36487803<br />vendor_id: 1","count:     1<br />trip_duration: 4.43101254<br />vendor_id: 1","count:     0<br />trip_duration: 4.49714706<br />vendor_id: 1","count:     0<br />trip_duration: 4.56328157<br />vendor_id: 1","count:     1<br />trip_duration: 4.62941609<br />vendor_id: 1","count:     1<br />trip_duration: 4.69555060<br />vendor_id: 1","count:     0<br />trip_duration: 4.76168512<br />vendor_id: 1","count:     0<br />trip_duration: 4.82781964<br />vendor_id: 1","count:     0<br />trip_duration: 4.89395415<br />vendor_id: 1","count:     0<br />trip_duration: 4.96008867<br />vendor_id: 1","count:     0<br />trip_duration: 5.02622318<br />vendor_id: 1","count:     0<br />trip_duration: 5.09235770<br />vendor_id: 1","count:     0<br />trip_duration: 5.15849221<br />vendor_id: 1","count:     0<br />trip_duration: 5.22462673<br />vendor_id: 1","count:     0<br />trip_duration: 5.29076124<br />vendor_id: 1","count:     0<br />trip_duration: 5.35689576<br />vendor_id: 1","count:     0<br />trip_duration: 5.42303028<br />vendor_id: 1","count:     0<br />trip_duration: 5.48916479<br />vendor_id: 1","count:     0<br />trip_duration: 5.55529931<br />vendor_id: 1","count:     0<br />trip_duration: 5.62143382<br />vendor_id: 1","count:     0<br />trip_duration: 5.68756834<br />vendor_id: 1","count:     0<br />trip_duration: 5.75370285<br />vendor_id: 1","count:     0<br />trip_duration: 5.81983737<br />vendor_id: 1","count:     0<br />trip_duration: 5.88597188<br />vendor_id: 1","count:     0<br />trip_duration: 5.95210640<br />vendor_id: 1","count:     0<br />trip_duration: 6.01824092<br />vendor_id: 1","count:     0<br />trip_duration: 6.08437543<br />vendor_id: 1","count:     0<br />trip_duration: 6.15050995<br />vendor_id: 1","count:     0<br />trip_duration: 6.21664446<br />vendor_id: 1","count:     2<br />trip_duration: 6.28277898<br />vendor_id: 1","count:     1<br />trip_duration: 6.34891349<br />vendor_id: 1","count:     0<br />trip_duration: 6.41504801<br />vendor_id: 1","count:     0<br />trip_duration: 6.48118252<br />vendor_id: 1","count:     1<br />trip_duration: 6.54731704<br />vendor_id: 1"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.0661345155583782,0.0661345155583782,0.0661345155583782,0.0661345155583782,0.0661345155583781,0.0661345155583782,0.0661345155583781,0.0661345155583781,0.0661345155583783,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781,0.0661345155583781],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[0,0.0661345155583782,0.132269031116756,0.198403546675135,0.264538062233513,0.330672577791891,0.396807093350269,0.462941608908647,0.529076124467026,0.595210640025404,0.661345155583782,0.72747967114216,0.793614186700538,0.859748702258917,0.925883217817295,0.992017733375673,1.05815224893405,1.12428676449243,1.19042128005081,1.25655579560919,1.32269031116756,1.38882482672594,1.45495934228432,1.5210938578427,1.58722837340108,1.65336288895945,1.71949740451783,1.78563192007621,1.85176643563459,1.91790095119297,1.98403546675135,2.05016998230972,2.1163044978681,2.18243901342648,2.24857352898486,2.31470804454324,2.38084256010162,2.44697707565999,2.51311159121837,2.57924610677675,2.64538062233513,2.71151513789351,2.77764965345188,2.84378416901026,2.90991868456864,2.97605320012702,3.0421877156854,3.10832223124378,3.17445674680215,3.24059126236053,3.30672577791891,3.37286029347729,3.43899480903567,3.50512932459404,3.57126384015242,3.6373983557108,3.70353287126918,3.76966738682756,3.83580190238594,3.90193641794431,3.96807093350269,4.03420544906107,4.10033996461945,4.16647448017783,4.2326089957362,4.29874351129458,4.36487802685296,4.43101254241134,4.49714705796972,4.5632815735281,4.62941608908647,4.69555060464485,4.76168512020323,4.82781963576161,4.89395415131999,4.96008866687836,5.02622318243674,5.09235769799512,5.1584922135535,5.22462672911188,5.29076124467026,5.35689576022863,5.42303027578701,5.48916479134539,5.55529930690377,5.62143382246215,5.68756833802053,5.7537028535789,5.81983736913728,5.88597188469566,5.95210640025404,6.01824091581242,6.08437543137079,6.15050994692917,6.21664446248755,6.28277897804593,6.34891349360431,6.41504800916269,6.48118252472106,6.54731704027944],"y":[8,0,0,0,0,41,0,117,0,108,0,100,54,84,162,77,124,124,115,147,150,203,194,284,274,379,533,804,1188,1785,2834,4309,6350,9475,13533,18365,24750,32132,38226,46463,52781,58908,62516,64717,62374,59683,52420,44289,36187,26892,19193,13151,8969,5782,3466,1962,886,361,116,45,12,17,12,6,1,11,10,15,15,20,12,10,22,21,322,1606,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["count:     8<br />trip_duration: 0.00000000<br />vendor_id: 2","count:     0<br />trip_duration: 0.06613452<br />vendor_id: 2","count:     0<br />trip_duration: 0.13226903<br />vendor_id: 2","count:     0<br />trip_duration: 0.19840355<br />vendor_id: 2","count:     0<br />trip_duration: 0.26453806<br />vendor_id: 2","count:    41<br />trip_duration: 0.33067258<br />vendor_id: 2","count:     0<br />trip_duration: 0.39680709<br />vendor_id: 2","count:   117<br />trip_duration: 0.46294161<br />vendor_id: 2","count:     0<br />trip_duration: 0.52907612<br />vendor_id: 2","count:   108<br />trip_duration: 0.59521064<br />vendor_id: 2","count:     0<br />trip_duration: 0.66134516<br />vendor_id: 2","count:   100<br />trip_duration: 0.72747967<br />vendor_id: 2","count:    54<br />trip_duration: 0.79361419<br />vendor_id: 2","count:    84<br />trip_duration: 0.85974870<br />vendor_id: 2","count:   162<br />trip_duration: 0.92588322<br />vendor_id: 2","count:    77<br />trip_duration: 0.99201773<br />vendor_id: 2","count:   124<br />trip_duration: 1.05815225<br />vendor_id: 2","count:   124<br />trip_duration: 1.12428676<br />vendor_id: 2","count:   115<br />trip_duration: 1.19042128<br />vendor_id: 2","count:   147<br />trip_duration: 1.25655580<br />vendor_id: 2","count:   150<br />trip_duration: 1.32269031<br />vendor_id: 2","count:   203<br />trip_duration: 1.38882483<br />vendor_id: 2","count:   194<br />trip_duration: 1.45495934<br />vendor_id: 2","count:   284<br />trip_duration: 1.52109386<br />vendor_id: 2","count:   274<br />trip_duration: 1.58722837<br />vendor_id: 2","count:   379<br />trip_duration: 1.65336289<br />vendor_id: 2","count:   533<br />trip_duration: 1.71949740<br />vendor_id: 2","count:   804<br />trip_duration: 1.78563192<br />vendor_id: 2","count:  1188<br />trip_duration: 1.85176644<br />vendor_id: 2","count:  1785<br />trip_duration: 1.91790095<br />vendor_id: 2","count:  2834<br />trip_duration: 1.98403547<br />vendor_id: 2","count:  4309<br />trip_duration: 2.05016998<br />vendor_id: 2","count:  6350<br />trip_duration: 2.11630450<br />vendor_id: 2","count:  9475<br />trip_duration: 2.18243901<br />vendor_id: 2","count: 13533<br />trip_duration: 2.24857353<br />vendor_id: 2","count: 18365<br />trip_duration: 2.31470804<br />vendor_id: 2","count: 24750<br />trip_duration: 2.38084256<br />vendor_id: 2","count: 32132<br />trip_duration: 2.44697708<br />vendor_id: 2","count: 38226<br />trip_duration: 2.51311159<br />vendor_id: 2","count: 46463<br />trip_duration: 2.57924611<br />vendor_id: 2","count: 52781<br />trip_duration: 2.64538062<br />vendor_id: 2","count: 58908<br />trip_duration: 2.71151514<br />vendor_id: 2","count: 62516<br />trip_duration: 2.77764965<br />vendor_id: 2","count: 64717<br />trip_duration: 2.84378417<br />vendor_id: 2","count: 62374<br />trip_duration: 2.90991868<br />vendor_id: 2","count: 59683<br />trip_duration: 2.97605320<br />vendor_id: 2","count: 52420<br />trip_duration: 3.04218772<br />vendor_id: 2","count: 44289<br />trip_duration: 3.10832223<br />vendor_id: 2","count: 36187<br />trip_duration: 3.17445675<br />vendor_id: 2","count: 26892<br />trip_duration: 3.24059126<br />vendor_id: 2","count: 19193<br />trip_duration: 3.30672578<br />vendor_id: 2","count: 13151<br />trip_duration: 3.37286029<br />vendor_id: 2","count:  8969<br />trip_duration: 3.43899481<br />vendor_id: 2","count:  5782<br />trip_duration: 3.50512932<br />vendor_id: 2","count:  3466<br />trip_duration: 3.57126384<br />vendor_id: 2","count:  1962<br />trip_duration: 3.63739836<br />vendor_id: 2","count:   886<br />trip_duration: 3.70353287<br />vendor_id: 2","count:   361<br />trip_duration: 3.76966739<br />vendor_id: 2","count:   116<br />trip_duration: 3.83580190<br />vendor_id: 2","count:    45<br />trip_duration: 3.90193642<br />vendor_id: 2","count:    12<br />trip_duration: 3.96807093<br />vendor_id: 2","count:    17<br />trip_duration: 4.03420545<br />vendor_id: 2","count:    12<br />trip_duration: 4.10033996<br />vendor_id: 2","count:     6<br />trip_duration: 4.16647448<br />vendor_id: 2","count:     1<br />trip_duration: 4.23260900<br />vendor_id: 2","count:    11<br />trip_duration: 4.29874351<br />vendor_id: 2","count:    10<br />trip_duration: 4.36487803<br />vendor_id: 2","count:    15<br />trip_duration: 4.43101254<br />vendor_id: 2","count:    15<br />trip_duration: 4.49714706<br />vendor_id: 2","count:    20<br />trip_duration: 4.56328157<br />vendor_id: 2","count:    12<br />trip_duration: 4.62941609<br />vendor_id: 2","count:    10<br />trip_duration: 4.69555060<br />vendor_id: 2","count:    22<br />trip_duration: 4.76168512<br />vendor_id: 2","count:    21<br />trip_duration: 4.82781964<br />vendor_id: 2","count:   322<br />trip_duration: 4.89395415<br />vendor_id: 2","count:  1606<br />trip_duration: 4.96008867<br />vendor_id: 2","count:     0<br />trip_duration: 5.02622318<br />vendor_id: 2","count:     0<br />trip_duration: 5.09235770<br />vendor_id: 2","count:     0<br />trip_duration: 5.15849221<br />vendor_id: 2","count:     0<br />trip_duration: 5.22462673<br />vendor_id: 2","count:     0<br />trip_duration: 5.29076124<br />vendor_id: 2","count:     0<br />trip_duration: 5.35689576<br />vendor_id: 2","count:     0<br />trip_duration: 5.42303028<br />vendor_id: 2","count:     0<br />trip_duration: 5.48916479<br />vendor_id: 2","count:     0<br />trip_duration: 5.55529931<br />vendor_id: 2","count:     0<br />trip_duration: 5.62143382<br />vendor_id: 2","count:     0<br />trip_duration: 5.68756834<br />vendor_id: 2","count:     0<br />trip_duration: 5.75370285<br />vendor_id: 2","count:     0<br />trip_duration: 5.81983737<br />vendor_id: 2","count:     0<br />trip_duration: 5.88597188<br />vendor_id: 2","count:     0<br />trip_duration: 5.95210640<br />vendor_id: 2","count:     0<br />trip_duration: 6.01824092<br />vendor_id: 2","count:     0<br />trip_duration: 6.08437543<br />vendor_id: 2","count:     0<br />trip_duration: 6.15050995<br />vendor_id: 2","count:     0<br />trip_duration: 6.21664446<br />vendor_id: 2","count:     0<br />trip_duration: 6.28277898<br />vendor_id: 2","count:     0<br />trip_duration: 6.34891349<br />vendor_id: 2","count:     0<br />trip_duration: 6.41504801<br />vendor_id: 2","count:     0<br />trip_duration: 6.48118252<br />vendor_id: 2","count:     0<br />trip_duration: 6.54731704<br />vendor_id: 2"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.689497716895,"r":7.30593607305936,"b":41.6438356164384,"l":60.6392694063927},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"range":[-0.36373983557108,6.91105687585052],"tickmode":"array","ticktext":["1e+01","1e+03","1e+05"],"tickvals":[1,3,5],"categoryorder":"array","categoryarray":["1e+01","1e+03","1e+05"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"trip_duration","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"range":[-6034.35,126721.35],"tickmode":"array","ticktext":["0","25000","50000","75000","100000","125000"],"tickvals":[0,25000,50000,75000,100000,125000],"categoryorder":"array","categoryarray":["0","25000","50000","75000","100000","125000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"count","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.913385826771654},"annotations":[{"text":"vendor_id","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"source":"A","attrs":{"23fc65d81fc6":{"x":{},"fill":{},"type":"bar"}},"cur_data":"23fc65d81fc6","visdat":{"23fc65d81fc6":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script><!--/html_preserve-->
